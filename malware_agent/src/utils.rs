use std::env;
use std::path::{Path, PathBuf};

/// LÖst einen Pfad sicher auf.
/// Ist der Pfad relativ, wird er an das Verzeichnis der Exe angehängt.
/// Wenn er nicht absolut ist, bleibt er unverändert
pub fn resolve_path(input_path: &str) -> PathBuf {
    let path = Path::new(input_path);
    if path.is_absolute() {
        return path.to_path_buf();
    }

    match env::current_exe() {
        Ok(exe_path) => {
            if let Some(parent) = exe_path.parent() {
                return parent.join(path);
            }
        }
        Err(_) => {
            return path.to_path_buf();
        }
    }

    // Fallback: Input zurückgeben
    PathBuf::from(input_path)
}
